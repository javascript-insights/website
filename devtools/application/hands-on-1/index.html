<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JavaScript Insights</title>
  <link rel="stylesheet" href="/styles.css" />
  <link rel="stylesheet" href="./styles.css" />
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/png" href="/static/favicon.png" />
  <script src="index.js"></script>
  <script src="background-sync.js"></script>
  <script src="service-worker.js"></script>
  <script src="load-service-worker.js"></script>
</head>

<body>
  <h1>Application Hands-On 1</h1>
  <nav class="breadcrumb">
    <a href="../../../index.html">JavaScript Insights</a>
    <a href="../../index.html">DevTools</a>
    <a href="../index.html">Application</a>
    <a href="./index.html">Hands-On 1</a>
  </nav>
  <div class="navbar">
    <a href="../index.html">Back</a>
  </div>

  <main>
    <h2>Application Tab Playground</h2>

    <section class="exercise">
      <h3>Exercise 1: Cookie Monster's Bakery ğŸª</h3>
      <p>Open DevTools (F12) and navigate to the Application tab. Help Cookie Monster manage his cookies:</p>
      <button onclick="document.cookie='favorite=chocolate_chip; max-age=3600'">Add Cookie</button>
      <button onclick="document.cookie='secret_recipe=nom_nom_nom; max-age=3600'">Add Secret Recipe</button>
    </section>

    <section class="exercise">
      <h3>Exercise 2: Local Storage Treasure Hunt ğŸ’</h3>
      <p>Find the hidden treasure in Local Storage:</p>
      <button onclick="localStorage.setItem('treasure_map', 'ğŸ—ºï¸ X marks the spot!')">Hide Treasure Map</button>
      <button onclick="localStorage.setItem('pirate_gold', 'ğŸ’° 1000 coins')">Store Gold</button>
      <p>Close the tab and reopen it to see if the treasure is still there!</p>
    </section>

    <section class="exercise">
      <h3>Exercise 3: Session Storage Time Machine â°</h3>
      <p>Store temporary data that disappears when you close the tab:</p>
      <button onclick="sessionStorage.setItem('time_travel', 'You visited the year 3000!')">Time Travel</button>
      <button onclick="sessionStorage.setItem('future_message', 'Flying cars everywhere!')">Send Future Message</button>
      <p>Close the tab and reopen it to see if the time travel worked!</p>
    </section>

    <section class="exercise">
      <h3>Exercise 4: IndexedDB Zoo ğŸ¦</h3>
      <p>Check the Application tab to see if you can find any animals in IndexedDB!</p>
      <div id="indexeddb-demo">
        <button onclick="addAnimal('Lion', 'ğŸ¦')">Add Lion</button>
        <button onclick="addAnimal('Elephant', 'ğŸ˜')">Add Elephant</button>
        <button onclick="addAnimal('Giraffe', 'ğŸ¦’')">Add Giraffe</button>
      </div>
    </section>

    <section class="exercise">
      <h3>Exercise 5: Cache Storage Superhero ğŸ¦¸â€â™‚ï¸</h3>
      <p>Explore the Cache Storage to find cached superhero assets:</p>
      <button onclick="caches.open('superhero-cache').then(cache => cache.add('./static/chuck-norris.png'))">Cache Hero
        Icon</button>
      <button onclick="caches.open('superhero-cache').then(cache => cache.add('/styles.css'))">Cache Styles</button>
      <br /><br />
      <p>Retrieve cached assets:</p>
      <button onclick="caches.open('superhero-cache').then(cache => cache.match('./static/chuck-norris.png')).then(r => { if(r) { r.blob().then(b => { const img = document.createElement('img'); img.src = URL.createObjectURL(b); img.style.maxWidth='200px'; document.getElementById('cache-output').innerHTML=''; document.getElementById('cache-output').appendChild(img); }); } else { document.getElementById('cache-output').textContent='Hero Icon not found in cache!'; } })">Get Hero Icon from Cache</button>
      <button onclick="caches.open('superhero-cache').then(cache => cache.match('/styles.css')).then(r => { if(r) { r.text().then(t => { document.getElementById('cache-output').textContent=t.substring(0,500)+'...'; }); } else { document.getElementById('cache-output').textContent='Styles not found in cache!'; } })">Get Styles from Cache</button>
      <div id="cache-output" style="margin-top:10px; padding:10px; border:1px dashed #ccc; min-height:40px;"></div>
    </section>

    <section class="exercise">
      <h3>Exercise 6: Background Sync Quest ğŸ”„</h3>
      <p>Register a background sync and find it in the Application tab:</p>
      <button onclick="registerBackgroundSync()">Register Sync</button>
      <div id="syncStatus">No pending syncs</div>
    </section>

    <section class="exercise">
      <h3>Exercise 7: Manifest Mystery ğŸ“±</h3>
      <p>Find the web app manifest and explore its contents:</p>
      <button onclick="window.location.href = './manifest.json'">View Manifest</button>
    </section>

    <div class="tips">
      <h3>ğŸ’¡ Pro Tips:</h3>
      <ul>
        <li>Use Application tab to view and modify cookies</li>
        <li>Clear site data to start fresh</li>
        <li>Check storage quotas in Storage section</li>
        <li>Inspect Service Workers for offline capabilities</li>
        <li>Use Clear Site Data to reset all storage</li>
        <li>Check Frame-wise storage usage</li>
        <li>Monitor Background Services</li>
      </ul>
    </div>
  </main>

</body>

</html>