<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JavaScript Insights</title>
  <link rel="stylesheet" href="/styles.css" />
  <link rel="stylesheet" href="./styles.css" />
  <link rel="icon" type="image/png" href="/static/favicon.png" />
  <script src="index.js"></script>
</head>

<body>
  <h1>Performance Theoretical 7 - Main</h1>
  <nav class="breadcrumb">
    <a href="../../../../index.html">JavaScript Insights</a>
    <a href="../../../index.html">DevTools</a>
    <a href="../../index.html">Performance</a>
    <a href="../index.html">Theoretical</a>
    <a href="./index.html">Main</a>
  </nav>
  <div class="navbar">
    <a href="../index.html">Back</a>
  </div>

  <div class="content">
    <button class="button" onclick="performTask()">
      <span class="icon">âš¡</span> Perform Task
    </button>
    <button class="button" onclick="startAnimate()">
      <span class="icon">ğŸ”„</span> Animate
    </button>
    <div id="animation" style="width: 100px; height: 100px; background-color: red; margin: 20px auto;"></div>
  </div>

  <h2>ğŸ“ˆ JavaScript Performance Best Practices</h2>

  <div class="key-points">
    <h3>ğŸ¯ Key Points:</h3>
    <ul>
      <li>âœ‹ Don't block the main thread</li>
      <li>âœ‚ï¸ Break up long tasks</li>
    </ul>
  </div>

  <div class="explanation">
    <h3>ğŸ¤” Understanding Tasks</h3>
    <p>Shipping less JavaScript helps, but understanding task management is crucial for optimization.</p>
    <p>A task includes browser operations like:</p>
    <ul>
      <li>ğŸ¨ Rendering</li>
      <li>ğŸ“ Parsing HTML/CSS</li>
      <li>âš™ï¸ Running JavaScript</li>
    </ul>

    <h3>âš ï¸ Important Notes:</h3>
    <p>The main thread processes one task at a time. Tasks longer than 50ms are considered "long tasks" and can block
      user interactions.</p>
  </div>

  <img src="./static/a-depiction-how-breaking-999bc2dd02872_960.png"
    alt="A depiction of how breaking up long tasks can improve performance"
    style="width: 600px; display: block; margin: 20px auto;" />

  <div class="code-examples">
    <h3>ğŸ’» Code Examples</h3>

    <h4>Original Code:</h4>
    <script>
      function saveSettings() {
        validateForm();
        showSpinner();
        saveToDatabase();
        updateUI();
        sendAnalytics();
      }
    </script>

    <h4>Optimized Code:</h4>
    <script>
      function saveSettings() {
        // Critical user-visible work
        validateForm();
        showSpinner();
        updateUI();

        // Deferred non-critical work
        setTimeout(() => {
          saveToDatabase();
          sendAnalytics();
        }, 0);
      }
    </script>
  </div>

</body>

</html>