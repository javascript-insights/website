<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JavaScript Insights</title>
  <link rel="stylesheet" href="/styles.css" />
  <link rel="stylesheet" href="./styles.css" />
  <link rel="icon" type="image/png" href="/static/favicon.png" />
  <script src="index.js"></script>
</head>

<body>
  <h1>Performance Hands-On 15 - Call Tree Analysis</h1>
  <nav class="breadcrumb">
    <a href="../../../../index.html">JavaScript Insights</a>
    <a href="../../../index.html">DevTools</a>
    <a href="../../index.html">Performance</a>
    <a href="../index.html">Hands-On</a>
    <a href="./index.html">Call Tree</a>
  </nav>
  <div class="navbar">
    <a href="../index.html">Back</a>
  </div>

  <div class="content">
    <h1>Call Tree Analysis in Performance DevTool</h1>

    <div class="instructions">
      <h2>What is the Call Tree?</h2>
      <p>The <strong>Call Tree</strong> view in Chrome DevTools Performance panel shows the hierarchical call paths
        in your JavaScript code. It helps you understand:</p>
      <ul>
        <li>Which functions are called and by whom</li>
        <li>How much time is spent in each function</li>
        <li>Where the bottlenecks are in your application</li>
        <li>The full execution context of your code</li>
      </ul>

      <div class="call-tree-info">
        <h3>Key Features of Call Tree:</h3>
        <ul>
          <li><strong>Self Time</strong>: Time spent in the function itself (excluding calls to other functions)</li>
          <li><strong>Total Time</strong>: Total time including all child function calls</li>
          <li><strong>Aggregation</strong>: Similar call stacks are aggregated for easier analysis</li>
          <li><strong>Call Hierarchy</strong>: Visualizes parent-child relationships between functions</li>
        </ul>
      </div>

      <h2>Hands-On Exercise</h2>
      <ol>
        <li>Open the DevTools (F12 or right-click and select "Inspect")</li>
        <li>Go to the <strong>Performance</strong> tab</li>
        <li>Click the <strong>Record</strong> button</li>
        <li>Click the <strong>Run Call Tree Demo</strong> button below</li>
        <li>After the demo completes, click <strong>Stop</strong> in DevTools</li>
        <li>When the recording loads, scroll down to the <strong>Bottom-Up</strong>, <strong>Call Tree</strong> or
          <strong>Event Log</strong> sections
        </li>
      </ol>

      <h3>Analysis Tasks:</h3>
      <ol>
        <li>Find which function consumes the most CPU time (look for <code>computeHeavyTask</code>)</li>
        <li>Identify which functions call <code>computeHeavyTask</code> (parent functions)</li>
        <li>Compare "Self Time" vs "Total Time" for each function</li>
        <li>Try switching between <strong>Call Tree</strong> and <strong>Bottom-Up</strong> views to see different
          perspectives</li>
      </ol>
    </div>

    <div class="demo-section">
      <h2>Call Tree Demo</h2>
      <p>This button triggers a series of function calls that demonstrate a multi-level call hierarchy.
        The demo includes CPU-intensive tasks, DOM manipulation, and data processing operations.</p>

      <button id="run-demo-button" class="run-button">Run Call Tree Demo</button>

      <h3>What to look for in the Call Tree:</h3>
      <ul>
        <li>Notice how <code>runCallTreeDemo</code> is the root of our call tree</li>
        <li>Observe how functions like <code>updateUI</code> and <code>handleUserAction</code> are mid-level
          orchestrators</li>
        <li>See how leaf functions like <code>computeHeavyTask</code> often consume the most actual CPU time</li>
        <li>Look for multiple call paths to the same function (e.g., <code>computeHeavyTask</code> is called from
          multiple places)</li>
      </ul>
    </div>
  </div>
</body>

</html>