<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JavaScript Insights</title>
  <link rel="stylesheet" href="/styles.css" />
  <link rel="stylesheet" href="./styles.css" />
  <link rel="icon" type="image/png" href="/static/favicon.png" />
  <script src="index.js"></script>
</head>

<body>
  <h1>Network Hands-On 4</h1>

  <nav class="breadcrumb">
    <a href="../../../index.html">JavaScript Insights</a>
    <a href="../../index.html">DevTools</a>
    <a href="../index.html">Network</a>
    <a href="./index.html">Hands-On 4</a>
  </nav>

  <div class="navbar">
    <a href="../index.html">Back</a>
  </div>

  <main class="content">
    <h2>Cross-Origin Resource Sharing (CORS)</h2>

    <section class="introduction">
      <h3>What is CORS?</h3>
      <p>CORS (Cross-Origin Resource Sharing) is a security feature that controls how web pages in one domain can
        request resources from another domain. It's essential for modern web applications that need to interact with
        different services and APIs.</p>
    </section>

    <section class="reference">
      <h5>Common CORS Headers</h5>
      <ul>
        <li><code>Access-Control-Allow-Origin</code>: Defines allowed origins</li>
        <li><code>Access-Control-Allow-Methods</code>: Specifies allowed HTTP methods</li>
        <li><code>Access-Control-Allow-Headers</code>: Lists allowed request headers</li>
        <li><code>Access-Control-Allow-Credentials</code>: Indicates whether the request can include user credentials
        </li>
      </ul>
    </section>

    <section class="instructions">
      <h3>Instructions:</h3>
      <ol>
        <li>Check the CORS headers in each response using DevTools Network tab</li>
        <li>Notice how different CORS headers affect request success/failure</li>
        <li>Try modifying request headers to see how CORS behavior changes:
          <ul>
            <li>Add custom headers to trigger preflight requests</li>
            <li>Change Origin header to test domain restrictions</li>
            <li>Add credentials to test CORS with authentication</li>
          </ul>
        </li>
      </ol>
    </section>

    <section class="demo">
      <h3>Successful CORS:</h3>
      <button class="test-button" id="fetch0">allow-all</button>
      <button class="test-button" id="fetch2">allow-methods - GET</button>
      <a
        href="https://stackoverflow.com/questions/42705306/access-control-allow-methods-doesnt-seem-to-be-working">ðŸ¤”</a>
    </section>

    <section class="demo">
      <h3>Failed CORS:</h3>
      <button class="test-button" id="fetch1">specific-origin</button>
      <button class="test-button" id="fetch3">allow-methods - PUT</button>
      <button class="test-button" id="fetch4" disabled>with-credentials</button>
      <button class="test-button" id="fetch5" disabled>custom-headers</button>
      <button class="test-button" id="fetch6" disabled>max-age</button>
    </section>

    <section class="demo">
      <h3>CORS Result:</h3>
      <div id="result" class="result-display">Fetched data here...</div>
    </section>

    <section class="cors-explanation">
      <h3>Preflight Requests</h3>
      <p>For certain types of requests, browsers send a preflight request using the HTTP OPTIONS method before the
        actual request.
        This preflight request checks if the server permits the actual request. The server responds with the allowed
        methods and headers,
        and if the preflight check passes, the browser proceeds with the actual request.</p>

      <h4>Example Scenario</h4>
      <p>Imagine a web page served from https://domain-a.com wants to fetch data from https://domain-b.com/api/data.
        Without CORS, the browser would block this request due to the Same-Origin Policy. With CORS,
        https://domain-b.com
        can include the following headers in its response to allow the request:</p>

      <pre><code>Access-Control-Allow-Origin: https://domain-a.com</code></pre>
      <pre><code>Access-Control-Allow-Methods: GET, POST</code></pre>
      <pre><code>Access-Control-Allow-Headers: Content-Type</code></pre>

      <section class="demo">
        <h3>Preflight CORS:</h3>
        <button class="test-button" id="fetch7">Preflight - OPTIONS</button>
        <button class="test-button" id="fetch8">Preflight - POST</button>
      </section>
    </section>

  </main>
</body>

</html>