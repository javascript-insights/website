<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JavaScript Insights</title>
  <link rel="stylesheet" href="/styles.css" />
  <link rel="stylesheet" href="./styles.css" />
  <link rel="icon" type="image/png" href="/static/favicon.png" />
  <script src="index.js"></script>
</head>

<body>
  <h1>Memory Theoretical 1</h1>
  <nav class="breadcrumb">
    <a href="../../../index.html">JavaScript Insights</a>
    <a href="../../index.html">DevTools</a>
    <a href="../index.html">Memory</a>
    <a href="./index.html">Theoretical 1</a>
  </nav>
  <div class="navbar">
    <a href="../index.html">Back</a>
  </div>

  <div class="container">
    <h1>Memory Tool (Warning: May Cause Memory Madness!) 🤪</h1>
    <p>Welcome to the wildest memory adventure! Let's make your browser sweat! 💦</p>

    <p>
      <button class="button" id="leakButton">🚰 Create Memory Leak (Oops!)</button>
      <span>Creates arrays that are never cleaned up</span>
    </p>
    <p>
      <button class="button" id="clearButton">🧹 Clean Up This Mess!</button>
      <span>Clears the leaked memory arrays</span>
    </p>
    <p>
      <button class="button" id="growButton">🎈 Make Memory Go Brrrr!</button>
      <span>Adds huge strings to memory</span>
    </p>
    <p>
      <button class="button" id="detachButton">👻 Create Ghost Elements</button>
      <span>Creates DOM elements not attached to document</span>
    </p>
    <p>
      <button class="button" id="duplicateStringsButton">🐑 Clone String Army</button>
      <span>Creates many duplicate string values</span>
    </p>
    <p>
      <button class="button" id="duplicateStringsButton2">🐏🐑 Clone String Army 2</button>
      <span>Creates many duplicate string values using String object</span>
    </p>
    <p>
      <button class="button" id="shallowSizeButton">📏 How Big?</button>
      <span>Creates objects to show shallow memory size</span>
    </p>
    <p>
      <button class="button" id="retainedSizeButton">🏋️ Show True Weight</button>
      <span>Creates nested objects to show retained memory</span>
    </p>
    <p>
      <button class="button" id="distanceButton">🚀 Space Between Things</button>
      <span>Creates a long chain of linked objects</span>
    </p>
    <p>
      <button class="button" id="createObjectsBtn" disabled>🎭 Create Objects & Thanos Snap Half</button>
      <span>Creates objects then deletes half</span>
    </p>


    <div class="explanation">
      <h2>Understanding the Memory Tool</h2>
      <p>This tool helps you explore how JavaScript manages memory in your browser. It's designed to demonstrate various
        memory concepts for learning purposes.</p>

      <h3>Key Memory Concepts:</h3>
      <ul>
        <li><strong>Memory Leaks</strong>: When objects remain in memory even though they're no longer needed, causing
          memory usage to grow over time.</li>
        <li><strong>Shallow Size</strong>: The memory consumed by the object itself, not including what it references.
        </li>
        <li><strong>Retained Size</strong>: The total memory that would be freed if the object was deleted (including
          all objects it keeps alive).</li>
        <li><strong>Detached DOM</strong>: Elements created but not attached to the document tree, which can leak if
          references are kept.</li>
      </ul>

      <h3>Retainers:</h3>
      <p>The "Retainers" tab in the Memory DevTools shows you which other objects in memory are holding references to
        the currently selected object, preventing it from being garbage collected. Understanding retainer paths helps
        you identify:</p>
      <ul>
        <li><strong>Reference Chains:</strong> How objects are connected to each other</li>
        <li><strong>GC Roots:</strong> The primary objects that keep others alive</li>
        <li><strong>Memory Leaks:</strong> Unexpected references that prevent cleanup</li>
        <li><strong>Object Lifetimes:</strong> Why certain objects persist longer than expected</li>
      </ul>

      <h3>How to Use the Memory Panel:</h3>
      <ol>
        <li>Take a snapshot before performing an action</li>
        <li>Perform one of the memory actions using the buttons</li>
        <li>Take another snapshot</li>
        <li>Use "Comparison" view to see what changed between snapshots</li>
        <li>Explore "Allocated objects" to see what was created</li>
      </ol>

      <h3>Memory Panel Views:</h3>
      <ul>
        <li><strong>Containment (Heap Contents):</strong> This view shows how objects are referenced and retained in
          memory, helping you understand object relationships and potential memory leaks.</li>
        <li><strong>Comparison:</strong> This view allows you to compare different heap snapshots to identify changes in
          memory usage.</li>
        <li><strong>Statistics:</strong> This view provides a circular chart showing how much memory each object type
          takes up.</li>
      </ul>

      <div class="instructions">
        <h2>📋 Step-by-Step Memory Investigation Guide</h2>
        <ol>
          <li>Open Chrome DevTools by pressing F12 or right-clicking and selecting "Inspect"</li>
          <li>Navigate to the "Memory" tab in DevTools</li>
          <li>Take an initial snapshot by clicking "Take heap snapshot"</li>
          <li>Press one of the buttons above to perform a memory operation</li>
          <li>Take another snapshot after the operation completes</li>
          <li>Select "Comparison" view in the dropdown to see what changed</li>
          <li>Look for new objects in the "# New" column</li>
          <li>Explore object relationships by clicking on items</li>
          <li>Use the search box to find specific objects</li>
          <li>Check "Shallow size" and "Retained size" values to understand memory impact</li>
          <li>Look for detached DOM nodes by searching for "Detached"</li>
          <li>Use the "Clear Memory" button when finished with an experiment</li>
          <li>Try different operations and observe their unique memory patterns</li>
          <li>Compare multiple snapshots to track memory growth over time</li>
          <li>Identify memory leaks by finding objects that persist unexpectedly</li>
        </ol>
        <p class="tip">Tip: Pay attention to the relationship between objects by exploring the retainer chains.</p>
      </div>

      <p class="note">Note: Take snapshots between each button press to clearly observe memory changes.</p>
    </div>

  </div>
</body>